### Диаграмма активностей "BeCreator"

**Описание:**
Эта диаграмма моделирует три четко разделенных пути пользователя в приложении: Гостя (который может стать Студентом), уже аутентифицированного Студента и аутентифицированного Администратора.

![Main Editor Workflow](/docs/diagrams/activity_diagram.png)

### Объяснение шагов рабочего процесса

Эта диаграмма моделирует полный цикл взаимодействия с платформой "BeCreator", разделяя его на три независимых, но взаимосвязанных потока для **Гостя**, **Студента** и **Администратора**.

#### 1. Точка входа и первичная проверка

*   **Начало:** Любой сеанс начинается с того, что пользователь (неважно, какой у него статус) открывает сайт.
*   **Проверка аутентификации:** Первый и самый важный шаг — система немедленно проверяет, есть ли у пользователя активная сессия (например, валидный JWT-токен). Этот бинарный выбор (`да` или `нет`) определяет весь дальнейший путь пользователя.

#### 2. Поток аутентифицированного пользователя (Если проверка пройдена - "Да")

Если пользователь уже вошёл в систему, его путь определяется его ролью.

*   **Проверка роли:** Система считывает роль из сессионного токена.
    *   **Если роль "Администратор"**:
        *   **Переход в Панель управления:** Пользователь сразу попадает в защищённый раздел для администраторов.
        *   **Параллельные задачи (`fork`):** Внутри панели он может выполнять несколько независимых друг от друга действий:
            1.  Редактировать контент курса (добавлять/удалять модули и уроки).
            2.  Настраивать внешний вид сайта (менять брендинг, тексты на лендинге).
            3.  Управлять пользователями (просматривать список студентов).
        *   **Сохранение:** Любые изменения, сделанные в этих разделах, завершаются процессом сохранения данных в базе.
    *   **Если роль "Студент"**:
        *   **Переход в Личный кабинет:** Пользователь попадает на свою главную страницу ("дашборд") с доступом к учебным материалам.
        *   **Цикл обучения (`repeat`):** Начинается основной образовательный процесс:
            1.  Студент выбирает и изучает урок.
            2.  Он может опционально отметить урок как пройденный, и система зафиксирует его прогресс.
            3.  Цикл повторяется, пока студент не закончит все уроки или не решит прервать обучение.

#### 3. Поток Гостя (Если проверка не пройдена - "Нет")

Если у пользователя нет активной сессии, он рассматривается как **Гость**, и его возможности ограничены.

*   **Просмотр лендинга:** Гостю доступна только публичная, "продающая" часть сайта.
*   **Принятие решения:** На этом этапе у гостя есть выбор:
    *   **Покинуть сайт:** Если он не заинтересован, его сессия завершается.
    *   **Начать взаимодействие:** Если он нажимает кнопку "Войти" или "Регистрация", он инициирует процесс превращения в аутентифицированного пользователя.
*   **Процесс входа/регистрации:**
    *   **Если пытается войти:** Он вводит учётные данные. При успехе его поток "вливается" в поток для **Студента**. При неудаче — он видит ошибку, и процесс останавливается.
    *   **Если регистрируется:** Он заполняет форму. При успехе его аккаунт создаётся, и система направляет его на страницу входа для первого входа в систему. При ошибке валидации — процесс останавливается.

#### 4. Завершение сеанса

*   **Выход из системы:** Для аутентифицированных пользователей (Студента и Администратора) сессия в конечном итоге завершается, когда они нажимают кнопку "Выйти".
*   **Завершение (`stop`):** Конечные точки на диаграмме (`stop`) обозначают полное завершение взаимодействия пользователя с системой в рамках текущего сеанса.